
#receiving the log data from filebeat.
input {
  beats {
    port => 5045
  }
}

## filter config 

filter {

  json {
        skip_on_invalid_json => true
        source => "message"
        target => "jsonData"
        add_tag => [ "_message_json_parsed" ]
      }
    
  mutate {
        remove_field => ["offset", "prospector","@version","source","host","beat","log","input"]
      }    
}

#send the output to the destination here it is console .
output {

    elasticsearch {
     hosts => "http://localhost:9200"
     index => "demo_json"
  }
  stdout{}
}
