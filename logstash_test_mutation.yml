
#receiving the log data from filebeat.
input {
  beats {
    port => 5045
  }
}

## filter config 

filter {

mutate {   
        add_field => { "beat_version" => "%{[beat][version]}" }
    }   
    
mutate {   
        add_field => { "log_file" => "%{[log][file][path]}" }
    }
    
mutate {
        remove_field => ["offset", "prospector","@version","source","host","[beat][hostname]","[beat][name]","[beat][version]","log"]
      }    

mutate {   
        rename => { "@timestamp" => "fetch_time" }
       
    }
    
  mutate {   
        add_field => { "log_time" => "" }
        copy => { "fetch_time" => "log_time" }
    } 
    
 mutate {
        uppercase => [ "[input][type]" ]
      }
}

#send the output to the destination here it is console .
output {
  stdout{}
}
