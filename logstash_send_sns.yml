
#receiving the log data from filebeat.
input {
  beats {
    port => 5045
  }
}

## filter config 

filter {
#mutate {add_field => { "sns" => "arn:aws:sns:us-east-1:101255872173:makinglearnngezy_topic" }  }
mutate {   remove_field => ["offset", "prospector","@version","source","host","beat","log","input"]}

mutate {
    rename => [ "message", "sns_message" ] 
    add_field => { "sns_subject" => "Alert: " }
}


}

#send the output to the destination here it is console ans S3 .

 output {
      stdout{}
      sns {
        access_key_id => "*****************"
        secret_access_key => "*************"
        region => "ap-south-1"
        arn => "arn:aws:sns:ap-south-1:101255872173:makinglearnngezy_sns"
      }
    }
