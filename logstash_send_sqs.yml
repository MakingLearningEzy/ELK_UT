
#receiving the log data from filebeat.
input {
  beats {
    port => 5045
  }
}

## filter config 

filter {


mutate {remove_field => ["tag","offset", "prospector","@version","source","host","beat","log","input"]}

csv {
skip_header => "true"
separator => ","
columns => ["bookId","name","subject","publisher","author"]
}

}

#send the output to the destination here it is console ans SQS ,max msg size  256Kb .

 output {
      stdout{}
      sqs {
        access_key_id => "***********"
        secret_access_key => "*********************"
        region => "ap-south-1"
        queue => "makinglearnngezy_queue"
        codec => "json"
      }
    }
